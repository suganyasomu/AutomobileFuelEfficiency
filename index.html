<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://rawgit.com/susielu/d3-annotation/master/d3-annotation.min.js"></script>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

  <title>Cars Fuel Efficiency</title>
  <style>
    h1 {
      text-align: center;
    }

    h2 {
      padding: 30px;
    }

    h2+p {
      margin-top: -30px;
    }

    p {
      padding-left: 50px;
      padding-right: 50px;
      text-align: justify;
      text-justify: inter-word;
    }

    p+ul {
      margin-top: -10px;
    }

    ul {
      margin: 50px;
    }

    li {
      text-align: left;
      list-style: circle
    }

    svg {
      background-color: white;
      font-family: 'Lato';
    }

    .annotation-note-title,
    text.title {
      font-weight: normal;
      border: none;
    }
  </style>

</head>

<body>

  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h1> AUTOMOBILE FUEL EFFICIENCY </h1>
      <img src="Images\Cars.png" class="img-fluid" alt="Responsive image">
    </div>
  </div>
  <h2> Automobiles : An Integral part of life </h2>

  <p> The Automobiles were first developed and idealized in Germany and France in the last part of the 1800s, however,
    Americans rapidly came to overwhelm the car business in the principal half of the 20th 100 years. Henry Ford
    improved large-scale manufacturing procedures that became standard, and Ford, General Motors, and Chrysler arose as
    the "Enormous Three" auto organizations by the 1920s. Makers channeled their assets to the military during World War
    II, and a short time later auto-creation in Europe and Japan took off to fulfill developing needs. Once crucial to
    the extension of American metropolitan habitats, the business had turned into a common worldwide undertaking with
    the ascent of Japan as the main automaker by 1980. Albeit the vehicle was to have its most noteworthy social and
    monetary effect in the United States, it was at first culminated in Germany and France close to the furthest limit
    of the nineteenth hundred years by such men as Gottlieb Daimler, Karl Benz, Nicolaus Otto, and Emile Levassor
  </p>


  <h2>How many cars in the world?</h2>

  <p>The particular numbers are somewhat difficult to acquire, what with every one of the various bodies liable for
    counting them,
    in any case, the best gauge put the figure at around 1.32 billion vehicles, trucks, and transports in 2016. That was
    the number
    chosen by US car industry monster WardsAuto, with the admonition that it did exclude rough terrain vehicles or
    weighty
    hardware. (Source: Wards Intelliegence)

    Some industry examiners think the number has proactively outperformed 1.4 billion in a couple of years since.
    Furthermore, it proceeds
    to develop at an amazing rate. To place that development into viewpoint, the world was home to around 670 million
    vehicles in 1996, and only 342 million vehicles in 1976.

    Assuming that amazing pace of development proceeds, the absolute multiplying at regular intervals, then, at that
    point, we can hope to see some 2.8
    billion vehicles in the world in 2036.
  </p>

  <h2>Enough Fuel for the Cars ?</h2>

  <p>Majority of the cars today are powered by fuels like Gasoline and Diesel, with a few electrically powered cars now
    coming to the forefront, thanks to the rapid progress in the required technologies .
    Still over 97% of the Cars in the World operate using Gasoline and Diesel , and that number would still by as high
    as 93 % even in 2030 .
    <b>With the Oil Reserves of the World being a finite resource, it would make a worthwhile effort to
      study the various factors that impact the fuel efficiency of cars and highlight the major ones .</b>
    <u>While driving habits ( agrresive vs moderate) and maintenance of the vehicle ( engine oil change, tire tread) are
      considerable factors, but the major difference to fuel economy is impacted by 3 most significant factors : </u>
  <ul>
    <li> Number of Cyclinders in the Car Engine</li>
    <li> Type of fuel used by the Car Engine</li>
    <li> Driving in city vs Driving on Highways</li>
  </ul>
  <h2>Exploring Number of Engine Cylinders</h2>

  <p> The engines are traditionally built to create a perfect balance of power and fuel efficiency . Higher the number
    of cylinders in an engine , more the power it can generate at any given point in time, but unfortunately it lowers
    the fuel efficiency of the automobile since that much more fuel is ingested and burned in each cylinder . <i><u>The
        sweet spot for enough power for regular passenger cars coupled with a good fuel mileage has been found at <b
          style="color:red">4 cylinder engines</b> ,</i></u> as can see seen in the chart below and annotated by the <b
      style="color:red">red line</b> . Y -axis is the number of cylinders and X-axis is the major car manufacturers in
    the world today.</p>
  <svg width=1200 height=800 style="border:1px solid black">
    <line x1="25" y1="423" x2="1200" y2="423" style="stroke:rgb(255,0,0);stroke-width:5" />
  </svg>
  <div>
    <div align="center">
      <a align="center " href="SubScenes\Fuel and Fuel efficiency.html" class="btn btn-primary"
        style="display:inline-block;padding:1em 2em;margin:10 0.3em 0.3em 0;margin-top: 50px;margin-bottom: 50px;border-radius:2em;box-sizing: border-box;font-weight:300;color:#FFFFFF;background-color:#f14e4e;text-align:center;transition: all 0.2s;">Fuel
        Type and Fuel Efficiency
        >></a>

    </div>

    <script type="text/javascript">
      var color = ["red", "magenta", "aquamarine", "purple", "navy", "gold", "pink"]
      d3.csv("https://raw.githubusercontent.com/suganyasomu/AutomobileFuelEfficiency/master/DataSet/automobile%20manufacturers%20and%20cylinders.csv", d3.autoType).then(function (data) {
        console.log(data[0].EngineCylinders)
        var width = 1145;
        var height = 600;
        var margin = 25;
        var x = d3.scaleBand().domain(data.map(function (d) { return d.Make; })).range([0, width]);
        var y = d3.scaleLinear().domain([0, 12]).range([height, 0]);

        d3.select("svg").append("g").attr('id', 'bars').attr("transform", "translate(" + margin + "," + margin + ")").selectAll('g').data(data).enter().append('rect').attr("width", 11).attr('x', function (d, i) { return 11 * i }).attr("height", 0).attr('y', 600).transition().duration(4000).delay(700).attr('y', (d) => y(d.EngineCylinders)).attr("height", (d) => y(0) - y(d.EngineCylinders)).attr("fill", function (d) {
          if (d.Make === 'Acura') { return "#bd3119"; }
          if (d.Make === 'Alpha Romeo') { return "yellow"; }
          if (d.Make === 'Aston Martin') { return "#3f96c4"; }
          if (d.Make === 'Audi') { return "#832cc9"; }
          if (d.Make === 'Bentley') { return "#c4c223"; }
          if (d.Make === 'BMW') { return "#fc9803"; }
          if (d.Make === 'Buick') { return "#4642d4"; }
          if (d.Make === 'Cadillac') { return "#ab2c61"; }
          if (d.Make === 'Chevrolet') { return "#92c22b"; }
          if (d.Make === 'Chrysler') { return "#3848b0"; }
          if (d.Make === 'Dodge') { return "#cf3c2b"; }
          if (d.Make === 'Ferrari') { return "#c9b320" }
          if (d.Make === 'Fiat') { return "#72b57f"; }
          if (d.Make === 'Ford') { return "#7a6137" }
          if (d.Make === 'Genesis') { return "#b528b3"; }
          if (d.Make === 'GMC') { return "#63c6cf"; }
          if (d.Make === 'Honda') { return "#5f599c" }
          if (d.Make === 'Infiniti') { return "#dbde31"; }
          if (d.Make === 'Jaguar') { return "#4e803d"; }
          if (d.Make === 'Jeep') { return "#948182" }
          if (d.Make === 'Kia') { return "#b58333"; }
          if (d.Make === 'Hyundai') { return "#9e738a" }
          if (d.Make === 'Lamborghini') { return "#21dbc9"; }
          if (d.Make === 'Land Rover') { return "#609ebd" }
          if (d.Make === 'Lexus') { return "#3c661c"; }
          if (d.Make === 'Lincoln') { return "#8a90cf" }
          if (d.Make === 'Lotus') { return "#576360"; }
          if (d.Make === 'Maserati') { return "#fa07c9" }
          if (d.Make === 'Mazda') { return "#d1edcc"; }
          if (d.Make === 'McLaren Automotive') { return "#27535c" }
          if (d.Make === 'Mercedes-Benz') { return "#a4fcb0"; }
          if (d.Make === 'MINI') { return "#ffa305" }
          if (d.Make === 'Mitsubishi') { return "#475443"; }
          if (d.Make === 'Nissan') { return "#9c6119" }
          if (d.Make === 'Porsche') { return "#053efa"; }
          if (d.Make === 'Rolls-Royce') { return "#79f765" }
          if (d.Make === 'Roush Performance') { return "#d9d502"; }
          if (d.Make === 'smart') { return "#036116" }
          if (d.Make === 'Subaru') { return "#e0c143" }
          if (d.Make === 'Toyota') { return "#99020e"; }
          if (d.Make === 'Volkswagen') { return "#ded6a4" }
          if (d.Make === 'Volvo') { return "#04a4c4"; }
          if (d.Make === 'Nissan') { return "#7c9970" }
        })
        d3.select("svg").append("g").attr("transform", "translate(" + margin + "," + margin + ")").call(d3.axisLeft(y));
        d3.select("svg").append("g").attr("transform", "translate(" + margin + "," + (height + margin) + ")").call(d3.axisBottom(x)).selectAll("text")
          .style("text-anchor", "end")
          .attr("dx", "-.8em")
          .attr("dy", ".15em")
          .attr("transform", "rotate(-90)")

        // Features of the annotation
        const annotations = [
          {
            note: {
              title: "Most Common Engine type:",
              label: "4 Cylinder"
            },
            connector: {
              end: "arrow",        // Can be none, or arrow or dot
              type: "line",      // ?? don't know what it does
              lineType: "vertical",    // ?? don't know what it does
              endScale: 2    // arrow size
            },
            color: ["red"],
            x: 910,
            y: 420,
            dy: -90,
            dx: 0
          }
        ]

        const makeAnnotations = d3.annotation()
          .type(d3.annotationLabel)
          .annotations(annotations)

        d3.select("svg")
          .append("g")
          .attr("class", "annotation-group")
          .call(makeAnnotations)

        d3.select('body').append('div').attr('id', 'tooltip').attr('style', 'position: absolute; opacity: 0;');
        d3.selectAll("rect").data(data).on('mouseover', function (d) {
          d3.select('#tooltip').transition().duration(200).style('opacity', 1).text(d.EngineCylinders + " Cyl " + d.Make).style("left", (d3.event.pageX) + "px").style("top", (d3.event.pageY) + "px")
        }).on('mouseout', function () {
          d3.select('#tooltip').style('opacity', 0)
        })
      })
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
      integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
      crossorigin="anonymous"></script>
</body>

</html>